---
description: 
globs: 
alwaysApply: true
---

## âœ… ğŸ” The Ultimate Cursor Rule for Clean, Secure, Scalable Code

This rule serves as a **unified checklist** across the stack â€” frontend, backend, security, and quality. You can use this as a **benchmark** for every code module, PR review, or feature release.

---

### ğŸ”· 1. ğŸ” **Clarity & Readability First**
- âœ… Use **clear, descriptive naming** for all variables, functions, files, and components.  
  e.g., `getUserById` instead of `getUsr`.
- âœ… Follow a **consistent naming convention**: camelCase for JS, snake_case for Python, PascalCase for components.
- âœ… Write small, modular functions with a **single responsibility**.
- âœ… Comment *why*, not *what*. (The code tells *what*, comments tell *why*.)

---

### ğŸ”· 2. ğŸ§± **Code Structure & Scalability**
- âœ… Organize code in a **modular**, **feature-first** directory structure.
  - e.g., `features/products/`, `components/common/`, `services/api/`
- âœ… Separate **business logic**, **UI**, **API**, and **models**.
- âœ… Follow proper **MVC** or **MVVM** patterns where applicable.
- âœ… Use **dependency injection** or service abstraction where needed.

---

### ğŸ”· 3. ğŸ” **Security**
- âœ… Never trust user input. Always validate on both **client & server**.
- âœ… Sanitize inputs before database operations or rendering.
- âœ… Hash passwords with strong algorithms (e.g., `bcrypt`, `argon2`).
- âœ… Use **HTTPS**, CSRF tokens, CORS policies, and secure headers.
- âœ… Use **prepared statements** or ORM to avoid SQL injection.
- âœ… Hide secrets via `.env` or secret managers â€” never hardcode!
- âœ… Rate-limit and throttle sensitive APIs.

---

### ğŸ”· 4. ğŸ“± **Frontend (Web/App) Best Practices**
- âœ… Build **responsive UIs** using mobile-first or fluid layouts.
- âœ… Use reusable, atomic components (`Button`, `Input`, `Modal`, etc.).
- âœ… Avoid state duplication â€” manage app state (Redux, Zustand, Pinia) responsibly.
- âœ… Lazy load components and use **code splitting**.
- âœ… Use accessibility (`aria-label`, semantic tags) and keyboard nav.
- âœ… Optimize assets and images (WebP, SVG, compression).

---

### ğŸ”· 5. ğŸ§  **Backend / API Design**
- âœ… Use REST or GraphQL principles â€” clean resource naming and versioning.
- âœ… Return proper HTTP status codes (`200`, `400`, `401`, `500`, etc.).
- âœ… Write idempotent, consistent APIs.
- âœ… Log intelligently (not excessively) with unique trace IDs.
- âœ… Ensure all endpoints have auth and access control.

---

### ğŸ”· 6. ğŸ§ª **Testing & Validation**
- âœ… Write **unit tests**, **integration tests**, and **e2e tests**.
- âœ… Use schema validation (e.g., Joi, Zod, Yup) on incoming data.
- âœ… Test error flows and edge cases.
- âœ… Use mocking for isolated backend/frontend testing.

---

### ğŸ”· 7. ğŸš€ **Performance & Optimization**
- âœ… Avoid unnecessary re-renders (React), queries, and computations.
- âœ… Use indexes in DBs for common queries.
- âœ… Cache common results with Redis or memory caching.
- âœ… Debounce or throttle user interactions (search, typing).
- âœ… Profile before optimizing â€” avoid premature optimization.

---

### ğŸ”· 8. ğŸ”„ **CI/CD & DevOps Hygiene**
- âœ… Use **linting** (ESLint, Prettier), **formatting**, and **type checks**.
- âœ… Set up **CI/CD** pipelines with automated tests and checks.
- âœ… Use **environment-based configs** for dev, staging, and prod.
- âœ… Automate deployments with rollback options.

---

### ğŸ”· 9. ğŸ“š **Documentation & Maintainability**
- âœ… Write docs for:
  - API contracts (Swagger/OpenAPI)
  - Setup guides
  - Environment variables
  - Major decisions (ADR-style)
- âœ… Maintain a changelog and README per module.
- âœ… Keep code DRY â€” abstract common patterns.

---

### ğŸ”· 10. ğŸ¤ **Collaboration & Reviews**
- âœ… Every PR should be:
  - Small and focused.
  - Descriptive with screenshots or test results if needed.
- âœ… Enforce code reviews and approve only when:
  - Code is tested
  - Naming and structure are consistent
  - No breaking changes or regressions

---

### âœ³ï¸ Bonus Principles
- **SOLID** principles (for OOP/code structure)
- **KISS** â€“ Keep It Simple, Stupid
- **DRY** â€“ Donâ€™t Repeat Yourself
- **YAGNI** â€“ You Arenâ€™t Gonna Need It (avoid overengineering)
- **BEM** / **Atomic CSS** for styling best practices

---